!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="009553bb-7e35-4a46-9154-0ece4d51b568",e._sentryDebugIdIdentifier="sentry-dbid-009553bb-7e35-4a46-9154-0ece4d51b568")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7940,8426],{5637:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var s=r(59686),a=r(53239);let n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.useMemo)(()=>{var e;let[r,a]=t;if(!(null==(e=r[0])?void 0:e[a]))return{data:r,error:void 0,isError:!1};try{return{data:(0,s.mu)(...t).sort((e,r)=>new Date(e[t[1]])-new Date(r[t[1]])),error:void 0,isError:!1}}catch(e){return{data:[],error:e,isError:!0}}},[JSON.stringify(t[0]),...t])}},6885:(e,t,r)=>{"use strict";r.d(t,{B:()=>l,p:()=>n});var s=r(66880),a=r(40281);let n=e=>Object.fromEntries(new URLSearchParams(e)),l=(e,t)=>Object.entries(e).reduce((e,r)=>{let[n,{sql:l,queryType:o}]=r;return"db"===o?{...e,[n]:()=>(0,s.A)({sql:l})}:{...e,[n]:()=>(0,a.A)(t)}},{})},24215:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});var s=r(56947),a=r(40807),n=r(64036),l=r(54244);async function o(e,t){let{projectRef:r}=e;if(!r)throw Error("Project ref is required");let{data:s,error:n}=await (0,a.Jt)("/platform/projects/{ref}/load-balancers",{params:{path:{ref:r}},signal:t});return n&&(0,a.H4)(n),s}let i=function(e){let{projectRef:t}=e,{enabled:r=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.I)(l.p.loadBalancers(t),e=>{let{signal:r}=e;return o({projectRef:t},r)},{enabled:r&&void 0!==t&&n.pe,...a})}},27846:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(80263),a=r(47504),n=r(19898),l=r(80489);let o=e=>{let{title:t,showDatabaseSelector:r}=e,o=(0,a.useRouter)(),{ref:i}=(0,n.g)(),{db:d,chart:c,...u}=o.query;return(0,s.jsxs)("div",{className:"flex flex-row justify-between gap-4 items-center","data-sentry-component":"ReportHeader","data-sentry-source-file":"ReportHeader.tsx",children:[(0,s.jsx)("h1",{className:"text-2xl text-foreground",children:t}),r&&(0,s.jsx)(l.A,{onSelectId:e=>{o.push({pathname:o.pathname,query:e!==i?{...u,db:e}:u})}})]})}},29297:(e,t,r)=>{"use strict";r.d(t,{CU:()=>d,Dv:()=>c,z6:()=>i});var s=r(80263),a=r(72342),n=r(3677),l=r(53239),o=r(51859);let i=l.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.bL,{className:(0,o.cn)("grid gap-2",r),...n,ref:t})});i.displayName=a.bL.displayName;let d=l.forwardRef((e,t)=>{let{className:r,children:l,...i}=e;return(0,s.jsx)(a.q7,{ref:t,className:(0,o.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...i,children:(0,s.jsx)(a.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(n.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=a.q7.displayName;let c=l.forwardRef((e,t)=>{let{image:r,label:n,showIndicator:l=!0,...i}=e;return(0,s.jsxs)(a.q7,{ref:t,...i,className:(0,o.cn)("flex flex-col gap-2","w-48","bg-surface-200","rounded-md border border-strong","p-2","shadow-sm","hover:border-stronger hover:bg-surface-300","data-[state=checked]:border-primary","data-[state=checked]:ring-1 data-[state=checked]:ring-border","data-[state=checked]:bg-selection data-[state=checked]:border-foreground","transition-colors","group",i.className),children:[i.children,(0,s.jsxs)("div",{className:"flex gap-2 w-full",children:[l&&(0,s.jsxs)("div",{className:"relative w-3 h-3 min-w-3 mt-0.5",children:[(0,s.jsx)(a.C1,{className:(0,o.cn)("absolute","w-[10px] h-[10px]","left-[1px] top-[1px]","border border-background-surface-300","rounded-full","data-[state=checked]:border-background-surface-300","data-[state=checked]:ring-foreground","data-[state=checked]:bg-foreground")}),(0,s.jsx)("div",{className:(0,o.cn)("absolute","w-3 h-3","border border-stronger","rounded-full","group-hover:border-foreground-light","group-data-[state=checked]:border-foreground","transition-colors")})]}),(0,s.jsx)("label",{htmlFor:i.value,className:(0,o.cn)("text-xs transition-colors text-left","text-light","group-hover:text-foreground group-data-[state=checked]:text-foreground",i.disabled?"cursor-not-allowed":"cursor-pointer"),children:n})]})]})});c.displayName=a.q7.displayName},30472:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>o});var s=r(80263),a=r(90709);r(53239);var n=r(16865);let l=e=>{let{open:t,children:r,className:n,...l}=e;return(0,s.jsx)(a.bL,{asChild:l.asChild,defaultOpen:l.defaultOpen,open:t,onOpenChange:l.onOpenChange,disabled:l.disabled,className:n,"data-sentry-element":"unknown","data-sentry-component":"Collapsible","data-sentry-source-file":"Collapsible.tsx",children:r})};l.Trigger=function(e){let{children:t,asChild:r}=e;return(0,s.jsx)(a.l9,{asChild:r,"data-sentry-element":"unknown","data-sentry-component":"Trigger","data-sentry-source-file":"Collapsible.tsx",children:t})},l.Content=function(e){let{asChild:t,children:r,className:l}=e,o=(0,n.A)("collapsible");return(0,s.jsx)(a.UC,{asChild:t,className:[o.content,l].join(" "),"data-sentry-element":"unknown","data-sentry-component":"Content","data-sentry-source-file":"Collapsible.tsx",children:r})};let o=l},33446:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(23983).A)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]])},34048:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(23983).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},36151:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/reports/api-overview",function(){return r(36780)}])},36780:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ApiReport:()=>es,default:()=>ea});var s=r(80263),a=r(34048),n=r(653),l=r(62659),o=r(62763),i=r(66345),d=r(53239),c=r(16110),u=r(19898),p=r(41370),m=r(80489),x=r(24215),f=r(57210),h=r(64036),g=r(74115),y=r(71126),v=r(51859),j=r(18292),b=r(97594),w=r(16988),N=r(70639);let k=[{key:"rest",filterKey:"request.path",filterValue:"/rest",label:"REST",description:"Requests made to PostgREST",icon:a.A},{key:"auth",filterKey:"request.path",filterValue:"/auth",label:"Auth",description:"Auth and authorization requests",icon:f.Nj},{key:"storage",filterKey:"request.path",filterValue:"/storage",label:"Storage",description:"Storage asset requests",icon:f.wc},{key:"realtime",filterKey:"request.path",filterValue:"/realtime",label:"Realtime",description:"Realtime connection requests",icon:f.Se},{key:"graphql",filterKey:"request.path",filterValue:"/graphql",label:"GraphQL",description:"Requests made to pg_graphql",icon:null}],A=e=>{let{filters:t,isLoading:r=!1,onAddFilter:a,onDatepickerChange:f,onRemoveFilters:A,onRefresh:R,datepickerHelpers:S}=e,{ref:C}=(0,u.g)(),{data:_}=(0,x.z)({projectRef:C}),q=["request.path","request.method","request.search","request.headers.x_client_info","request.headers.user_agent","response.status_code"],[E,D]=(0,d.useState)(!1),[L,T]=(0,d.useState)(null),[F,H]=(0,d.useState)({key:q[0],compare:"matches",value:""}),B=()=>{H({key:q[0],compare:"matches",value:""})},I=async e=>{A(k.map(e=>({key:e.filterKey,compare:"matches",value:e.filterValue}))),e&&a({key:e.filterKey,compare:"matches",value:e.filterValue}),T(e)},O=S[0],[z,P]=(0,d.useState)({to:O.calcTo(),from:O.calcFrom(),isHelper:!0,text:O.text});return(0,s.jsxs)("div",{className:"flex items-center justify-between","data-sentry-component":"ReportFilterBar","data-sentry-source-file":"ReportFilterBar.tsx",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-start items-center flex-wrap gap-2",children:[(0,s.jsx)(p.G,{type:"default",disabled:r,icon:(0,s.jsx)(n.A,{className:r?"animate-spin":""}),className:"w-7",tooltip:{content:{side:"bottom",text:"Refresh report"}},onClick:()=>R(),"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"ReportFilterBar.tsx"}),(0,s.jsx)(N.O,{onSubmit:e=>{f(e),P(e)},value:z,helpers:S,"data-sentry-element":"LogsDatePicker","data-sentry-source-file":"ReportFilterBar.tsx"}),(0,s.jsxs)(g.rI,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"ReportFilterBar.tsx",children:[(0,s.jsx)(g.ty,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"ReportFilterBar.tsx",children:(0,s.jsx)(y.$,{type:"default",className:"inline-flex flex-row gap-2",iconRight:(0,s.jsx)(l.A,{size:14}),"data-sentry-element":"Button","data-sentry-source-file":"ReportFilterBar.tsx",children:(0,s.jsx)("span",{children:null===L?"All Requests":L.label})})}),(0,s.jsxs)(g.SQ,{side:"bottom",align:"start","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"ReportFilterBar.tsx",children:[(0,s.jsx)(g._2,{onClick:()=>I(null),"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"ReportFilterBar.tsx",children:(0,s.jsx)("p",{children:"All Requests"})}),(0,s.jsx)(g.mB,{"data-sentry-element":"DropdownMenuSeparator","data-sentry-source-file":"ReportFilterBar.tsx"}),k.map(e=>{let t=e.icon;return(0,s.jsxs)(g._2,{className:"space-x-2",disabled:e.key===(null==L?void 0:L.key),onClick:()=>I(e),children:["graphql"===e.key?(0,s.jsx)(c.A,{src:"".concat(h.o2,"/img/graphql.svg"),className:"w-[20px] h-[20px] mr-2",preProcessor:e=>e.replace(/svg/,'svg class="m-auto text-color-inherit"')}):null!==t?(0,s.jsx)(t,{size:20,strokeWidth:1.5,className:"mr-2"}):null,(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("p",{className:(0,v.cn)(e.key===(null==L?void 0:L.key)?"font-bold":"","inline-block"),children:e.label}),(0,s.jsx)("p",{className:" text-left text-foreground-light inline-block w-[180px]",children:e.description})]})]},e.key)})]})]}),t.filter(e=>e.value!==(null==L?void 0:L.filterValue)||e.key!==(null==L?void 0:L.filterKey)).map(e=>(0,s.jsxs)("div",{className:"text-xs rounded border border-foreground-lighter bg-surface-300 px-2 h-7 flex flex-row justify-center gap-1 items-center",children:[e.key," ",e.compare," ",e.value,(0,s.jsx)(y.$,{type:"text",size:"tiny",className:"!p-0 !space-x-0",onClick:()=>A([e]),icon:(0,s.jsx)(o.A,{className:"text-foreground-light"}),children:(0,s.jsx)("span",{className:"sr-only",children:"Remove"})})]},"".concat(e.key,"-").concat(e.compare,"-").concat(e.value))),(0,s.jsx)(j.A,{align:"end",header:(0,s.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,s.jsx)("h5",{className:"text-sm text-foreground",children:"Add Filter"}),(0,s.jsx)(y.$,{type:"primary",size:"tiny",onClick:()=>{a(F),D(!1),B()},children:"Save"})]}),open:E,onOpenChange:e=>D(e),overlay:(0,s.jsxs)("div",{className:"px-3 py-3 flex flex-col gap-2",children:[(0,s.jsx)(b.Ay,{size:"tiny",value:F.key,onChange:e=>{H(t=>({...t,key:e.target.value}))},label:"Attribute Filter",children:q.map(e=>(0,s.jsx)(b.Ay.Option,{value:e,children:e},e))}),(0,s.jsx)(b.Ay,{size:"tiny",value:F.compare,onChange:e=>{H(t=>({...t,compare:e.target.value}))},label:"Comparison",children:["matches","is"].map(e=>(0,s.jsx)(b.Ay.Option,{value:e,children:e},e))}),(0,s.jsx)(w.A,{size:"tiny",label:"Value",placeholder:"matches"===F.compare?"Provide a regex expression":"Provide a string",onChange:e=>{H(t=>({...t,value:e.target.value}))}})]}),showClose:!0,"data-sentry-element":"Popover","data-sentry-source-file":"ReportFilterBar.tsx",children:(0,s.jsx)(y.$,{asChild:!0,type:"default",size:"tiny",icon:(0,s.jsx)(i.A,{className:"text-foreground-light "}),"data-sentry-element":"Button","data-sentry-source-file":"ReportFilterBar.tsx",children:(0,s.jsx)("span",{children:"Add filter"})})})]}),(0,s.jsx)(m.A,{additionalOptions:(null!=_?_:[]).length>0?[{id:"".concat(C,"-all"),name:"API Load Balancer"}]:[],"data-sentry-element":"DatabaseSelector","data-sentry-source-file":"ReportFilterBar.tsx"})]})};var R=r(27846),S=r(39532),C=r(65961),_=r(11164),q=r(49884),E=r.n(q),D=r(66915),L=r(39049),T=r(80125),F=r(48153),H=r(61068),B=r(5637),I=r(70324),O=r(83086),z=r(30472),P=r(6885);let M=e=>{var t,r;let{data:a,error:n,isError:l}=(0,B.m)(e.data,"timestamp",["ingress_mb","egress_mb"],0,null==(t=e.params)?void 0:t.iso_timestamp_start,null==(r=e.params)?void 0:r.iso_timestamp_end),o=E()(e.data,"ingress_mb"),i=E()(e.data,"egress_mb");function d(e){return e<.001?7:o>1?2:4}if(e.error){let t="string"==typeof e.error?{message:e.error}:e.error;return(0,s.jsx)(F.A,{subject:"Failed to retrieve network traffic",error:t})}return l?(0,s.jsxs)(I.Fc,{variant:"warning",children:[(0,s.jsx)(O.id,{}),(0,s.jsx)(I.XL,{children:"Failed to retrieve network traffic"}),(0,s.jsx)(I.TN,{children:n.message})]}):(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full","data-sentry-component":"NetworkTrafficRenderer","data-sentry-source-file":"ApiRenderers.tsx",children:[(0,s.jsx)(H.A,{size:"small",title:"Ingress",highlightedValue:E()(e.data,"ingress_mb"),format:"MB",className:"w-full",valuePrecision:d(o),data:a,yAxisKey:"ingress_mb",xAxisKey:"timestamp",displayDateInUtc:!0,"data-sentry-element":"BarChart","data-sentry-source-file":"ApiRenderers.tsx"}),(0,s.jsx)(H.A,{size:"small",title:"Egress",highlightedValue:i,format:"MB",valuePrecision:d(i),className:"w-full",data:a,yAxisKey:"egress_mb",xAxisKey:"timestamp",displayDateInUtc:!0,"data-sentry-element":"BarChart","data-sentry-source-file":"ApiRenderers.tsx"})]})},K=e=>{var t,r;let a=e.data.reduce((e,t)=>e+t.count,0),{data:n,error:l,isError:o}=(0,B.m)(e.data,"timestamp","count",0,null==(t=e.params)?void 0:t.iso_timestamp_start,null==(r=e.params)?void 0:r.iso_timestamp_end);if(e.error){let t="string"==typeof e.error?{message:e.error}:e.error;return(0,s.jsx)(F.A,{subject:"Failed to retrieve total requests",error:t})}return o?(0,s.jsxs)(I.Fc,{variant:"warning",children:[(0,s.jsx)(O.id,{}),(0,s.jsx)(I.XL,{children:"Failed to retrieve total requests"}),(0,s.jsx)(I.TN,{children:l.message})]}):(0,s.jsx)(H.A,{size:"small",minimalHeader:!0,highlightedValue:a,className:"w-full",data:n,yAxisKey:"count",xAxisKey:"timestamp",displayDateInUtc:!0,"data-sentry-element":"BarChart","data-sentry-component":"TotalRequestsChartRenderer","data-sentry-source-file":"ApiRenderers.tsx"})},V=e=>{let{ref:t}=(0,u.g)(),[r,a]=(0,d.useState)(!1),n="!text-xs !py-2 p-0 font-bold !bg-surface-200 !border-x-0 !rounded-none",l="!text-xs !py-2 !border-x-0 !rounded-none align-middle";return 0===e.data.length?null:(0,s.jsxs)(z.Ay,{"data-sentry-element":"Collapsible","data-sentry-component":"TopApiRoutesRenderer","data-sentry-source-file":"ApiRenderers.tsx",children:[(0,s.jsx)(T.A,{className:"rounded-t-none",head:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T.A.th,{className:n,children:"Request"}),(0,s.jsx)(T.A.th,{className:n+" text-right",children:"Count"}),void 0!==e.data[0].avg&&(0,s.jsx)(T.A.th,{className:n+" text-right",children:"Avg"})]}),body:(0,s.jsx)(s.Fragment,{children:e.data.map((t,a)=>(0,s.jsx)(d.Fragment,{children:(0,s.jsx)(T.A.tr,{className:["p-0 transition transform cursor-pointer hover:bg-surface-200",r&&a>=3?"w-full h-full opacity-100":"",!r&&a>=3?" w-0 h-0 translate-y-10 opacity-0":""].join(" "),children:!r&&a<3||r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T.A.td,{className:[l].join(" "),children:(0,s.jsx)(Q,{...t})}),(0,s.jsx)(T.A.td,{className:[l,"text-right align-top"].join(" "),children:t.count}),void 0!==e.data[0].avg&&(0,s.jsxs)(T.A.td,{className:[l,"text-right align-top"].join(" "),children:[Number(t.avg).toFixed(2),"ms"]})]}):null})},a+t.method+t.path+(t.search||"")))}),"data-sentry-element":"Table","data-sentry-source-file":"ApiRenderers.tsx"}),(0,s.jsx)(z.Ay.Trigger,{asChild:!0,"data-sentry-element":"unknown","data-sentry-source-file":"ApiRenderers.tsx",children:(0,s.jsxs)("div",{className:"flex flex-row justify-end w-full gap-2 p-1",children:[(0,s.jsx)(y.$,{type:"text",onClick:()=>a(!r),className:["transition",r?"text-foreground":"text-foreground-lighter",e.data.length<=3?"hidden":""].join(" "),"data-sentry-element":"Button","data-sentry-source-file":"ApiRenderers.tsx",children:r?"Show less":"Show more"}),(0,s.jsx)(y.$,{type:"text",className:"text-foreground-lighter",onClick:()=>{var r;e.router.push({pathname:"/project/".concat(t,"/logs/explorer"),query:{q:null==(r=e.params)?void 0:r.sql,its:e.params.iso_timestamp_start,ite:e.params.iso_timestamp_end}})},"data-sentry-element":"Button","data-sentry-source-file":"ApiRenderers.tsx",children:"Open in Logs Explorer"})]})})]})},G=e=>{var t,r;let a=e.data.reduce((e,t)=>e+t.count,0),{data:n,error:l,isError:o}=(0,B.m)(e.data,"timestamp","count",0,null==(t=e.params)?void 0:t.iso_timestamp_start,null==(r=e.params)?void 0:r.iso_timestamp_end);if(e.error){let t="string"==typeof e.error?{message:e.error}:e.error;return(0,s.jsx)(F.A,{subject:"Failed to retrieve request errors",error:t})}return o?(0,s.jsxs)(I.Fc,{variant:"warning",children:[(0,s.jsx)(O.id,{}),(0,s.jsx)(I.XL,{children:"Failed to retrieve request errors"}),(0,s.jsx)(I.TN,{children:l.message})]}):(0,s.jsx)(H.A,{size:"small",minimalHeader:!0,className:"w-full",highlightedValue:a,data:n,yAxisKey:"count",xAxisKey:"timestamp",displayDateInUtc:!0,"data-sentry-element":"BarChart","data-sentry-component":"ErrorCountsChartRenderer","data-sentry-source-file":"ApiRenderers.tsx"})},W=e=>{var t,r,a;let n=e.data.map(e=>({timestamp:e.timestamp,avg:e.avg})),{data:l,error:o,isError:i}=(0,B.m)(n,"timestamp","avg",0,null==(t=e.params)?void 0:t.iso_timestamp_start,null==(r=e.params)?void 0:r.iso_timestamp_end),d=null==(a=e.data[e.data.length-1])?void 0:a.avg;if(e.error){let t="string"==typeof e.error?{message:e.error}:e.error;return(0,s.jsx)(F.A,{subject:"Failed to retrieve response speeds",error:t})}return i?(0,s.jsxs)(I.Fc,{variant:"warning",children:[(0,s.jsx)(O.id,{}),(0,s.jsx)(I.XL,{children:"Failed to retrieve response speeds"}),(0,s.jsx)(I.TN,{children:o.message})]}):(0,s.jsx)(H.A,{size:"small",highlightedValue:d,format:"ms",minimalHeader:!0,className:"w-full",data:l,yAxisKey:"avg",xAxisKey:"timestamp",displayDateInUtc:!0,"data-sentry-element":"BarChart","data-sentry-component":"ResponseSpeedChartRenderer","data-sentry-source-file":"ApiRenderers.tsx"})},Q=e=>(0,s.jsxs)(z.Ay,{"data-sentry-element":"Collapsible","data-sentry-component":"RouteTdContent","data-sentry-source-file":"ApiRenderers.tsx",children:[(0,s.jsx)(z.Ay.Trigger,{asChild:!0,"data-sentry-element":"unknown","data-sentry-source-file":"ApiRenderers.tsx",children:(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(y.$,{asChild:!0,type:"text",className:" !py-0 !p-1",title:"Show more route details","data-sentry-element":"Button","data-sentry-source-file":"ApiRenderers.tsx",children:(0,s.jsx)("span",{children:(0,s.jsx)(D.A,{size:14,className:"transition data-open-parent:rotate-90 data-closed-parent:rotate-0","data-sentry-element":"ChevronRight","data-sentry-source-file":"ApiRenderers.tsx"})})}),(0,s.jsx)(L.gl,{className:"w-10 h-4 text-center rounded bg-surface-300",value:e.method,"data-sentry-element":"TextFormatter","data-sentry-source-file":"ApiRenderers.tsx"}),e.status_code&&(0,s.jsx)(L.gl,{className:"w-10 h-4 text-center rounded ".concat(e.status_code>=400?"bg-orange-500":e.status_code>=300?"bg-yellow-500":"bg-green-500"),value:String(e.status_code)}),(0,s.jsxs)("div",{className:" truncate max-w-sm lg:max-w-lg",children:[(0,s.jsx)(L.gl,{className:"text-foreground-light",value:e.path,"data-sentry-element":"TextFormatter","data-sentry-source-file":"ApiRenderers.tsx"}),(0,s.jsx)(L.gl,{className:"max-w-sm text-foreground-lighter truncate ",value:decodeURIComponent(e.search||""),"data-sentry-element":"TextFormatter","data-sentry-source-file":"ApiRenderers.tsx"})]})]})}),(0,s.jsx)(z.Ay.Content,{className:"pt-2","data-sentry-element":"unknown","data-sentry-source-file":"ApiRenderers.tsx",children:e.search?(0,s.jsx)("pre",{className:"syntax-highlight overflow-auto rounded bg-surface-100 p-2 !text-xs",children:(0,s.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:(0,L._2)((0,P.p)(e.search))}})}):(0,s.jsx)("p",{className:"text-xs text-foreground-lighter",children:"No query parameters in this request"})})]});var X=r(1053),$=r(45926),U=r(46036),Y=r(84305),J=r.n(Y),Z=r(97872),ee=r(51626);let et=()=>{let{project:e}=(0,Z.Om)(),{ref:t}=(0,u.g)(),r=(0,ee.RE)().selectedDatabaseId,[s,a]=(0,d.useState)([]),n=(0,P.B)(_.NY.api.queries,null!=t?t:"default"),l=n.totalRequests(),o=n.topRoutes(),i=n.errorCounts(),c=n.topErrorRoutes(),p=n.responseSpeed(),m=n.topSlowRoutes(),x=n.networkTraffic(),f=[l,o,i,c,p,m,x],h=e=>{a(t=>t.filter(t=>!e.find(e=>J()(t,e))))},g=[...s,...void 0!==r?[{key:"identifier",value:"'".concat(r,"'"),compare:"is"}]:[]];(0,d.useEffect)(()=>{l.changeQuery&&l.changeQuery(_.NY.api.queries.totalRequests.sql(g)),o.changeQuery&&o.changeQuery(_.NY.api.queries.topRoutes.sql(g)),i.changeQuery&&i.changeQuery(_.NY.api.queries.errorCounts.sql(g)),c.changeQuery&&c.changeQuery(_.NY.api.queries.topErrorRoutes.sql(g)),p.changeQuery&&p.changeQuery(_.NY.api.queries.responseSpeed.sql(g)),m.changeQuery&&m.changeQuery(_.NY.api.queries.topSlowRoutes.sql(g)),x.changeQuery&&x.changeQuery(_.NY.api.queries.networkTraffic.sql(g))},[JSON.stringify(g)]);let y=async()=>{f.forEach(e=>e.runQuery())},v=f.some(e=>e.isLoading);return{data:{totalRequests:l.logData,errorCounts:i.logData,responseSpeed:p.logData,topRoutes:o.logData,topErrorRoutes:c.logData,topSlowRoutes:m.logData,networkTraffic:x.logData},params:{totalRequests:l.params,errorCounts:i.params,responseSpeed:p.params,topRoutes:o.params,topErrorRoutes:c.params,topSlowRoutes:m.params,networkTraffic:x.params},error:{totalRequest:l.error,errorCounts:i.error,responseSpeed:p.error,topRoutes:o.error,topErrorRoute:c.error,topSlowRoutes:m.error,networkTraffic:x.error},mergeParams:e=>{f.forEach(t=>{var r;null==(r=t.setParams)||r.call(t,t=>({...t,...e}))})},filters:s,addFilter:e=>{s.some(t=>J()(t,e))||a(t=>[...t,e].sort((e,t)=>{let r=e.key.toLowerCase(),s=t.key.toLowerCase();return r<s?-1:+(r>s)}))},removeFilter:e=>h([e]),removeFilters:h,isLoading:v,refresh:y}};var er=r(34969);let es=()=>{let e=et(),t=(0,er.a)(),{data:r,error:a,filters:n,isLoading:l,params:o,mergeParams:i,removeFilters:d,addFilter:c,refresh:u}=e,p=null==t?void 0:t.plan;return(0,s.jsxs)(S.A,{"data-sentry-element":"ReportPadding","data-sentry-component":"ApiReport","data-sentry-source-file":"api-overview.tsx",children:[(0,s.jsx)(R.A,{title:"API","data-sentry-element":"ReportHeader","data-sentry-source-file":"api-overview.tsx"}),(0,s.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,s.jsx)(A,{onRemoveFilters:d,onDatepickerChange:e=>{let{from:t,to:r}=e;i({iso_timestamp_start:t||"",iso_timestamp_end:r||""})},datepickerFrom:o.totalRequests.iso_timestamp_start,datepickerTo:o.totalRequests.iso_timestamp_end,onAddFilter:c,onRefresh:u,isLoading:l,filters:n,datepickerHelpers:(0,_.bR)((null==p?void 0:p.id)||"free"),"data-sentry-element":"ReportFilterBar","data-sentry-source-file":"api-overview.tsx"}),(0,s.jsx)("div",{className:"h-2 w-full",children:(0,s.jsx)(U.A,{active:l,"data-sentry-element":"ShimmerLine","data-sentry-source-file":"api-overview.tsx"})})]}),(0,s.jsx)(C.A,{isLoading:l,params:o.totalRequests,title:"Total Requests",data:r.totalRequests||[],error:a.totalRequest,renderer:K,append:V,appendProps:{data:r.topRoutes||[],params:o.topRoutes},"data-sentry-element":"ReportWidget","data-sentry-source-file":"api-overview.tsx"}),(0,s.jsx)(C.A,{isLoading:l,params:o.errorCounts,title:"Response Errors",tooltip:"Error responses with 4XX or 5XX status codes",data:r.errorCounts||[],error:a.errorCounts,renderer:G,appendProps:{data:r.topErrorRoutes||[],params:o.topErrorRoutes},append:V,"data-sentry-element":"ReportWidget","data-sentry-source-file":"api-overview.tsx"}),(0,s.jsx)(C.A,{isLoading:l,params:o.responseSpeed,title:"Response Speed",tooltip:"Average response speed (in miliseconds) of a request",data:r.responseSpeed||[],error:a.responseSpeed,renderer:W,appendProps:{data:r.topSlowRoutes||[],params:o.topSlowRoutes},append:V,"data-sentry-element":"ReportWidget","data-sentry-source-file":"api-overview.tsx"}),(0,s.jsx)(C.A,{isLoading:l,params:o.networkTraffic,error:a.networkTraffic,title:"Network Traffic",tooltip:"Ingress and egress of requests and responses respectively",data:r.networkTraffic||[],renderer:M,"data-sentry-element":"ReportWidget","data-sentry-source-file":"api-overview.tsx"})]})};es.getLayout=e=>(0,s.jsx)(X.A,{children:(0,s.jsx)($.A,{children:e})});let ea=es},39049:(e,t,r)=>{"use strict";r.d(t,{T5:()=>o,YN:()=>c,_2:()=>u,gl:()=>i,vm:()=>d});var s=r(80263);r(14430),r(53239),r(59686);var a=r(55866),n=r(3073);r(53434);var l=r(51859);let o=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:"flex h-full w-full items-center gap-4","data-sentry-component":"RowLayout","data-sentry-source-file":"LogsFormatters.tsx",children:t})},i=e=>{let{value:t,className:r}=e;return(0,s.jsx)("span",{className:(0,l.cn)("font-mono text-xs truncate select-text cursor-text",r),"data-sentry-component":"TextFormatter","data-sentry-source-file":"LogsFormatters.tsx",children:t})},d=e=>{let{value:t}=e;if(!t)return(0,s.jsx)("div",{children:(0,s.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});let r=e=>{let{children:t,className:r}=e;return(0,s.jsx)("div",{className:"flex h-full items-center","data-sentry-component":"ResponseCodeItem","data-sentry-source-file":"LogsFormatters.tsx",children:(0,s.jsx)("div",{className:(0,l.cn)("relative flex h-6 items-center rounded-md justify-center px-2 py-1 text-center",r),children:(0,s.jsx)("label",{className:"block font-mono text-sm",children:t})})})};switch(t.toString().split("")[0]){case"1":return(0,s.jsx)(r,{children:t});case"2":return(0,s.jsx)(r,{className:"bg-surface-100 text-brand",children:t});case"5":return(0,s.jsx)(r,{className:"bg-red-300 text-red-1100",children:t});case"4":case"3":return(0,s.jsx)(r,{className:"bg-amber-300 text-amber-1100",children:t});default:return(0,s.jsx)(r,{className:"bg-surface-100 text-foreground-lighter",children:t})}},c=e=>{let{value:t,uppercase:r=!0}=e;if(!t)return(0,s.jsx)("div",{children:(0,s.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});let l=t.toUpperCase(),o=r?l:t,i=e=>{let{className:t,children:r}=e;return(0,s.jsx)("div",{className:"w-24 flex items-center h-full ".concat(t),"data-sentry-component":"Layout","data-sentry-source-file":"LogsFormatters.tsx",children:r})};switch(l){case"UNCAUGHTEXCEPTION":case"PANIC":case"FATAL":case"ERROR":return(0,s.jsxs)(i,{className:"gap-1",children:[(0,s.jsx)("div",{className:" p-0.5 rounded !text-red-900",children:(0,s.jsx)(a.A,{size:14,strokeWidth:2})}),(0,s.jsx)("span",{className:"!text-red-900 !block titlecase",children:o})]});case"INFO":case"DEBUG":return(0,s.jsxs)(i,{className:"gap-1",children:[(0,s.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,s.jsx)(a.A,{size:14,strokeWidth:2})}),(0,s.jsx)("span",{className:"!text-blue-900 !block titlecase",children:o})]});case"LOG":return(0,s.jsxs)(i,{className:"gap-1",children:[(0,s.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,s.jsx)(n.A,{size:14,strokeWidth:2})}),(0,s.jsx)("span",{className:"!text-blue-900 !block titlecase",children:o})]});case"WARNING":return(0,s.jsxs)(i,{className:"gap-1",children:[(0,s.jsx)("div",{className:" p-0.5 rounded !text-amber-900",children:(0,s.jsx)(a.A,{size:14,strokeWidth:2})}),(0,s.jsx)("span",{className:"!text-amber-900 !block titlecase",children:o})]});default:return(0,s.jsx)(i,{children:(0,s.jsx)("div",{className:"relative rounded px-2 py-1 text-center h-6 flex justify-center items-center bg-surface-100",children:(0,s.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:o})})})}};function u(e){let t=JSON.stringify(e,null,2);return(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number text-tomato-900";return/^"/.test(e)?t=/:$/.test(e)?"key text-foreground":"string text-brand-600":/true|false/.test(e)?t="boolean text-blue-900":/null/.test(e)&&(t="null text-amber-1100"),'<span class="'+t+'">'+e+"</span>"}).split("\n").map(e=>'<span class="line text-xs">'.concat(e,"</span>")).join("\n")}},48806:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(23983).A)("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]])},49884:(e,t,r)=>{var s=r(85892),a=r(60152);e.exports=function(e,t){return e&&e.length?a(e,s(t,2)):0}},60152:e=>{e.exports=function(e,t){for(var r,s=-1,a=e.length;++s<a;){var n=t(e[s]);void 0!==n&&(r=void 0===r?n:r+n)}return r}},61068:(e,t,r)=>{"use strict";r.d(t,{A:()=>v});var s=r(80263),a=r(53239),n=r(53434),l=r.n(n),o=r(62761),i=r(14984),d=r(11722),c=r(69838),u=r(52185),p=r(49911),m=r(30381),x=r(32199),f=r(54650),h=r(73896),g=r(72883),y=r(3283);let v=e=>{var t,r,n;let{data:v,yAxisKey:j,xAxisKey:b,format:w,customDateFormat:N=f.C_.FULL,title:k,highlightedValue:A,highlightedLabel:R,displayDateInUtc:S,minimalHeader:C,valuePrecision:_,className:q="",size:E="normal",emptyStateMessage:D,onBarClick:L,showLegend:T=!1,xAxisIsDate:F=!0,XAxisProps:H,YAxisProps:B,showGrid:I=!1}=e,{Container:O}=(0,g.dQ)(E),[z,P]=(0,a.useState)(null),M=(0,a.useMemo)(()=>v.map(e=>({...e,[j]:"string"==typeof e[j]?Number(e[j]):e[j]})),[v,j]),K=H||{interval:v.length-2,angle:0,tick:!1},V=B||{tickFormatter:e=>(0,g.Eg)(e,_),tick:!1,width:0},G=e=>S?l()(e).utc():l()(e),W=function(){if(!F){var e;return z?null==(e=v[z])?void 0:e[b]:R}return null!==z&&v&&void 0!==v[z]&&G(v[z][b]).format(N)||R}(),Q=null!==z?null==(t=v[z])?void 0:t[j]:A;return 0===v.length?(0,s.jsx)(y.A,{message:D,description:"It may take up to 24 hours for data to refresh",size:E,className:q,attribute:k,format:w}):(0,s.jsxs)("div",{className:["flex flex-col gap-y-3",q].join(" "),"data-sentry-component":"BarChart","data-sentry-source-file":"BarChart.tsx",children:[(0,s.jsx)(h.A,{title:k,format:w,customDateFormat:N,highlightedValue:"number"==typeof Q?(0,g.Eg)(Q,_):Q,highlightedLabel:W,minimalHeader:C,"data-sentry-element":"ChartHeader","data-sentry-source-file":"BarChart.tsx"}),(0,s.jsx)(O,{"data-sentry-element":"Container","data-sentry-source-file":"BarChart.tsx",children:(0,s.jsxs)(o.E,{data:M,className:"overflow-visible",onMouseMove:e=>{e.activeTooltipIndex!==z&&P(e.activeTooltipIndex)},onMouseLeave:()=>P(null),onClick:e=>{var t,r;let s=null==e||null==(r=e.activePayload)||null==(t=r[0])?void 0:t.payload;L&&L(s,e)},"data-sentry-element":"RechartBarChart","data-sentry-source-file":"BarChart.tsx",children:[T&&(0,s.jsx)(i.s,{}),I&&(0,s.jsx)(d.d,{stroke:f.OK.AXIS}),(0,a.createElement)(c.h,{...V,axisLine:{stroke:f.OK.AXIS},tickLine:{stroke:f.OK.AXIS},key:j,"data-sentry-element":"YAxis","data-sentry-source-file":"BarChart.tsx"}),(0,a.createElement)(u.W,{...K,axisLine:{stroke:f.OK.AXIS},tickLine:{stroke:f.OK.AXIS},key:b,"data-sentry-element":"XAxis","data-sentry-source-file":"BarChart.tsx"}),(0,s.jsx)(p.m,{content:()=>null,"data-sentry-element":"Tooltip","data-sentry-source-file":"BarChart.tsx"}),(0,s.jsx)(m.y,{dataKey:j,fill:f.OK.GREEN_1,animationDuration:300,maxBarSize:48,"data-sentry-element":"Bar","data-sentry-source-file":"BarChart.tsx",children:null==v?void 0:v.map((e,t)=>(0,s.jsx)(x.f,{className:"transition-all duration-300 ".concat(L?"cursor-pointer":""),fill:z===t||null===z?f.OK.GREEN_1:f.OK.GREEN_2,enableBackground:12},"cell-".concat(t)))})]})}),v&&(0,s.jsxs)("div",{className:"text-foreground-lighter -mt-9 flex items-center justify-between text-xs",children:[(0,s.jsx)("span",{children:F?G(v[0][b]).format(N):v[0][b]}),(0,s.jsx)("span",{children:F?G(null==(r=v[(null==v?void 0:v.length)-1])?void 0:r[b]).format(N):null==(n=v[(null==v?void 0:v.length)-1])?void 0:n[b]})]})]})}},65961:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var s=r(80263),a=r(87959),n=r(77877),l=r(47504),o=r(19898),i=r(21889),d=r(51859),c=r(16632),u=r(71126),p=r(25424);let m=e=>{let t=(0,l.useRouter)(),{ref:r}=(0,o.g)();return(0,s.jsxs)(i.A,{noMargin:!0,noHideOverflow:!0,className:(0,d.cn)("pb-0",e.className),wrapWithLoading:!1,"data-sentry-element":"Panel","data-sentry-component":"ReportWidget","data-sentry-source-file":"ReportWidget.tsx",children:[(0,s.jsxs)(i.A.Content,{className:"space-y-4","data-sentry-element":"unknown","data-sentry-source-file":"ReportWidget.tsx",children:[(0,s.jsxs)("div",{className:"flex flex-row items-start justify-between",children:[(0,s.jsxs)("div",{className:"gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsx)("h3",{className:"w-full h-6",children:e.title})," ",(null==e?void 0:e.tooltip)&&(0,s.jsxs)(c.m_,{children:[(0,s.jsx)(c.k$,{children:(0,s.jsx)(a.A,{className:"text-foreground-light",size:14,strokeWidth:1.5})}),(0,s.jsx)(c.ZI,{side:"bottom",children:e.tooltip})]})]}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:e.description})]}),e.params&&(0,s.jsxs)(c.m_,{children:[(0,s.jsx)(c.k$,{asChild:!0,children:(0,s.jsx)(u.$,{type:"default",icon:(0,s.jsx)(n.A,{}),className:"px-1",onClick:()=>{let s="db"===e.queryType,a=s?"/project/".concat(r,"/sql/new"):"/project/".concat(r,"/logs/explorer"),n={};if(s)n.content=e.resolvedSql;else{var l;n.q=null==(l=e.params)?void 0:l.sql,n.its=e.params.iso_timestamp_start,n.ite=e.params.iso_timestamp_end}t.push({pathname:a,query:n})}})}),(0,s.jsx)(c.ZI,{side:"left",children:"db"===e.queryType?"Open in SQL Editor":"Open in Logs Explorer"})]})]}),(0,s.jsx)(p.A,{active:e.isLoading,"data-sentry-element":"Loading","data-sentry-source-file":"ReportWidget.tsx",children:void 0===e.data?null:e.renderer({...e,router:t,projectRef:r})})]}),e.append&&(0,s.jsx)(s.Fragment,{children:e.append({...e,...e.appendProps||{},router:t,projectRef:r})})]})}},66880:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(56947),a=r(11164),n=r(97872),l=r(61428),o=r(96557),i=r(51626);let d=e=>{var t;let{sql:r,params:d=a.EV,where:c,orderBy:u}=e,{project:p}=(0,n.Om)(),m=(0,i.RE)(),{data:x}=(0,l.Vh)({projectRef:null==p?void 0:p.ref}),f=null==(t=(x||[]).find(e=>e.identifier===m.selectedDatabaseId))?void 0:t.connectionString,h=m.selectedDatabaseId,g="function"==typeof r?r([]):r,{data:y,error:v,isLoading:j,isRefetching:b,refetch:w}=(0,s.I)(["projects",null==p?void 0:p.ref,"db",{...d,sql:g,identifier:h},c,u],e=>{let{signal:t}=e;return(0,o.E)({projectRef:null==p?void 0:p.ref,connectionString:f||(null==p?void 0:p.connectionString),sql:g},t).then(e=>e.result)},{enabled:!!g,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return{error:v||("object"==typeof y?null==y?void 0:y.error:""),data:y,isLoading:j,isRefetching:b,params:d,runQuery:w,resolvedSql:g}}},69368:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(23983).A)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},70639:(e,t,r)=>{"use strict";r.d(t,{O:()=>b});var s=r(80263),a=r(53434),n=r.n(a),l=r(49009),o=r(62763),i=r(61062),d=r(66915),c=r(53239),u=r(38887),p=r.n(u),m=r(97380),x=r(29297),f=r(95125),h=r(51527),g=r(95793),y=r(71126),v=r(51859),j=r(54402);let b=e=>{let{onSubmit:t,helpers:r,value:a}=e,[u,b]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(!u){N(a.from?new Date(a.from):null),A(a.to?new Date(a.to):new Date);let e=a.from?new Date(a.from):null,t=a.to?new Date(a.to):null;S({HH:(null==e?void 0:e.getHours().toString().padStart(2,"0"))||"00",mm:(null==e?void 0:e.getMinutes().toString().padStart(2,"0"))||"00",ss:(null==e?void 0:e.getSeconds().toString().padStart(2,"0"))||"00"});let r=new Date,s=r.getHours().toString().padStart(2,"0"),n=r.getMinutes().toString().padStart(2,"0"),l=r.getSeconds().toString().padStart(2,"0");_({HH:(null==t?void 0:t.getHours().toString().padStart(2,"0"))||s,mm:(null==t?void 0:t.getMinutes().toString().padStart(2,"0"))||n,ss:(null==t?void 0:t.getSeconds().toString().padStart(2,"0"))||l})}},[u,a]);let[w,N]=(0,c.useState)(a.from?new Date(a.from):null),[k,A]=(0,c.useState)(a.to?new Date(a.to):new Date),[R,S]=(0,c.useState)({HH:(null==w?void 0:w.getHours().toString())||"00",mm:(null==w?void 0:w.getMinutes().toString())||"00",ss:(null==w?void 0:w.getSeconds().toString())||"00"}),[C,_]=(0,c.useState)({HH:(null==k?void 0:k.getHours().toString())||"23",mm:(null==k?void 0:k.getMinutes().toString())||"59",ss:(null==k?void 0:k.getSeconds().toString())||"59"}),[q,E]=(0,c.useState)(!1),[D,L]=(0,c.useState)(!1);function T(){navigator.clipboard.readText().then(e=>{try{let t=JSON.parse(e);if(!t.from||!t.to)return void console.warn("Invalid date range format in clipboard");let r=new Date(t.from),s=new Date(t.to);if(isNaN(r.getTime())||isNaN(s.getTime()))return void console.warn("Invalid date values in clipboard");N(r),A(s),S({HH:r.getHours().toString(),mm:r.getMinutes().toString(),ss:r.getSeconds().toString()}),_({HH:s.getHours().toString(),mm:s.getMinutes().toString(),ss:s.getSeconds().toString()}),L(!0)}catch(e){console.warn("Failed to parse clipboard content as date range:",e)}}).catch(e=>{console.warn("Failed to read clipboard:",e)})}function F(){if(!w||!k)return;let e=new Date(w),t=new Date(k);e.setHours(+R.HH,+R.mm,+R.ss),t.setHours(+C.HH,+C.mm,+C.ss),(0,h.l)(JSON.stringify({from:e.toISOString(),to:t.toISOString()})),E(!0)}(0,c.useEffect)(()=>{q&&setTimeout(()=>{E(!1)},2e3)},[q]),(0,c.useEffect)(()=>{D&&setTimeout(()=>{L(!1)},2e3)},[D]),(0,c.useEffect)(()=>(u&&(document.addEventListener("paste",T),document.addEventListener("copy",F)),()=>{document.removeEventListener("paste",T),document.removeEventListener("copy",F)}),[u,w,k]);let H=Math.abs(n()(w).diff(n()(k),"days"))>j.VM-1;return(0,s.jsxs)(g.AM,{open:u,onOpenChange:b,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"LogsDatePicker","data-sentry-source-file":"Logs.DatePickers.tsx",children:[(0,s.jsx)(g.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"Logs.DatePickers.tsx",children:(0,s.jsx)(y.$,{type:"default",icon:(0,s.jsx)(l.A,{size:12}),"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:a.isHelper?a.text:"".concat(n()(a.from).format("DD MMM, HH:mm")," - ").concat(n()(a.to||new Date).format("DD MMM, HH:mm"))})}),(0,s.jsxs)(g.hl,{className:"flex w-full p-0",side:"bottom",align:"center",portal:!0,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"Logs.DatePickers.tsx",children:[(0,s.jsx)(x.z6,{onValueChange:e=>{let s=r.find(t=>t.text===e);t&&s&&t({to:s.calcTo(),from:s.calcFrom(),isHelper:!0,text:s.text}),b(!1)},value:a.isHelper?a.text:"",className:"border-r p-2 flex flex-col gap-px","data-sentry-element":"RadioGroup","data-sentry-source-file":"Logs.DatePickers.tsx",children:r.map(e=>(0,s.jsxs)(m.J,{className:(0,v.cn)("[&:has([data-state=checked])]:bg-background-overlay-hover [&:has([data-state=checked])]:text-foreground px-4 py-1.5 text-foreground-light flex items-center gap-2 hover:bg-background-overlay-hover hover:text-foreground transition-all rounded-sm text-xs",{"cursor-not-allowed pointer-events-none opacity-50":e.disabled}),children:[(0,s.jsx)(x.CU,{hidden:!0,value:e.text,disabled:e.disabled,"aria-disabled":e.disabled},e.text),e.text]},e.text))}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex p-2 gap-2 items-center",children:[(0,s.jsxs)("div",{className:"flex flex-grow *:flex-grow gap-2 font-mono",children:[(0,s.jsx)(f.A,{type:"start",startTime:R,endTime:C,time:R,setTime:S,setStartTime:S,setEndTime:_,startDate:w,endDate:k,"data-sentry-element":"TimeSplitInput","data-sentry-source-file":"Logs.DatePickers.tsx"}),(0,s.jsx)(f.A,{type:"end",startTime:R,endTime:C,time:C,setTime:_,setStartTime:S,setEndTime:_,startDate:w,endDate:k,"data-sentry-element":"TimeSplitInput","data-sentry-source-file":"Logs.DatePickers.tsx"})]}),(0,s.jsx)("div",{className:"flex-shrink",children:(0,s.jsx)(y.$,{icon:(0,s.jsx)(o.A,{size:14}),type:"text",size:"tiny",className:"px-1.5",onClick:()=>{S({HH:"00",mm:"00",ss:"00"}),_({HH:"00",mm:"00",ss:"00"})},"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx"})})]}),(0,s.jsx)("div",{className:"p-2 border-t",children:(0,s.jsx)(p(),{inline:!0,selectsRange:!0,onChange:e=>{!function(e){let[t,r]=e;N(t),A(r)}(e)},dateFormat:"MMMM d, yyyy h:mm aa",dayClassName:()=>"cursor-pointer",startDate:w,endDate:k,renderCustomHeader:e=>{let{date:t,decreaseMonth:r,increaseMonth:a,prevMonthButtonDisabled:l,nextMonthButtonDisabled:o}=e;return(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,s.jsx)(y.$,{onClick:r,disabled:l,icon:(0,s.jsx)(i.A,{size:14,strokeWidth:2}),type:"text",size:"tiny",className:"px-1.5"}),(0,s.jsx)("span",{className:"text-sm text-foreground-light",children:n()(t).format("MMMM YYYY")}),(0,s.jsx)(y.$,{onClick:a,disabled:o,icon:(0,s.jsx)(d.A,{size:14,strokeWidth:2}),type:"text",size:"tiny",className:"px-1.5"})]})})},"data-sentry-element":"DatePicker","data-sentry-source-file":"Logs.DatePickers.tsx"})}),H&&(0,s.jsxs)("div",{className:"text-xs px-3 py-1.5 border-y bg-warning-300 text-warning-foreground border-warning-500 text-warning-600",children:["Large ranges may result in memory errors for ",(0,s.jsx)("br",{})," big projects."]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2 p-2 border-t",children:[w&&k?(0,s.jsx)(y.$,{type:"text",size:"tiny",onClick:F,className:(0,v.cn)({"text-brand-600":q||D}),children:q?"Copied!":D?"Pasted!":"Copy range"}):null,(0,s.jsx)(y.$,{type:"default",onClick:()=>{N(new Date),A(new Date)},"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:"Today"}),(0,s.jsx)(y.$,{onClick:function(){let e=w||new Date,r=k||new Date,s=new Date(e.setHours(+R.HH,+R.mm,+R.ss)),a=new Date(r.setHours(+C.HH,+C.mm,+C.ss));t({from:s.toISOString(),to:a.toISOString(),isHelper:!1}),b(!1)},"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:"Apply"})]})]})]})]})}},72342:(e,t,r)=>{"use strict";r.d(t,{C1:()=>B,bL:()=>F,q7:()=>H});var s=r(54993),a=r(53239),n=r(91968),l=r(63774),o=r(68436),i=r(70297),d=r(23578),c=r(87990),u=r(37268),p=r(89422),m=r(15630),x=r(74519);let f="Radio",[h,g]=(0,o.A)(f),[y,v]=h(f),j=(0,a.forwardRef)((e,t)=>{let{__scopeRadio:r,name:o,checked:d=!1,required:c,disabled:u,value:p="on",onCheck:m,...x}=e,[f,h]=(0,a.useState)(null),g=(0,l.s)(t,e=>h(e)),v=(0,a.useRef)(!1),j=!f||!!f.closest("form");return(0,a.createElement)(y,{scope:r,checked:d,disabled:u},(0,a.createElement)(i.sG.button,(0,s.A)({type:"button",role:"radio","aria-checked":d,"data-state":N(d),"data-disabled":u?"":void 0,disabled:u,value:p},x,{ref:g,onClick:(0,n.m)(e.onClick,e=>{d||null==m||m(),j&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})),j&&(0,a.createElement)(w,{control:f,bubbles:!v.current,name:o,value:p,checked:d,required:c,disabled:u,style:{transform:"translateX(-100%)"}}))}),b=(0,a.forwardRef)((e,t)=>{let{__scopeRadio:r,forceMount:n,...l}=e,o=v("RadioIndicator",r);return(0,a.createElement)(x.C,{present:n||o.checked},(0,a.createElement)(i.sG.span,(0,s.A)({"data-state":N(o.checked),"data-disabled":o.disabled?"":void 0},l,{ref:t})))}),w=e=>{let{control:t,checked:r,bubbles:n=!0,...l}=e,o=(0,a.useRef)(null),i=(0,m.Z)(r),d=(0,p.X)(t);return(0,a.useEffect)(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==r&&t){let s=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(s)}},[i,r,n]),(0,a.createElement)("input",(0,s.A)({type:"radio","aria-hidden":!0,defaultChecked:r},l,{tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function N(e){return e?"checked":"unchecked"}let k=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],A="RadioGroup",[R,S]=(0,o.A)(A,[d.RG,g]),C=(0,d.RG)(),_=g(),[q,E]=R(A),D=(0,a.forwardRef)((e,t)=>{let{__scopeRadioGroup:r,name:n,defaultValue:l,value:o,required:p=!1,disabled:m=!1,orientation:x,dir:f,loop:h=!0,onValueChange:g,...y}=e,v=C(r),j=(0,u.jH)(f),[b,w]=(0,c.i)({prop:o,defaultProp:l,onChange:g});return(0,a.createElement)(q,{scope:r,name:n,required:p,disabled:m,value:b,onValueChange:w},(0,a.createElement)(d.bL,(0,s.A)({asChild:!0},v,{orientation:x,dir:j,loop:h}),(0,a.createElement)(i.sG.div,(0,s.A)({role:"radiogroup","aria-required":p,"aria-orientation":x,"data-disabled":m?"":void 0,dir:j},y,{ref:t}))))}),L=(0,a.forwardRef)((e,t)=>{let{__scopeRadioGroup:r,disabled:o,...i}=e,c=E("RadioGroupItem",r),u=c.disabled||o,p=C(r),m=_(r),x=(0,a.useRef)(null),f=(0,l.s)(t,x),h=c.value===i.value,g=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{let e=e=>{k.includes(e.key)&&(g.current=!0)},t=()=>g.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,a.createElement)(d.q7,(0,s.A)({asChild:!0},p,{focusable:!u,active:h}),(0,a.createElement)(j,(0,s.A)({disabled:u,required:c.required,checked:h},m,i,{name:c.name,ref:f,onCheck:()=>c.onValueChange(i.value),onKeyDown:(0,n.m)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,n.m)(i.onFocus,()=>{var e;g.current&&(null==(e=x.current)||e.click())})})))}),T=(0,a.forwardRef)((e,t)=>{let{__scopeRadioGroup:r,...n}=e,l=_(r);return(0,a.createElement)(b,(0,s.A)({},l,n,{ref:t}))}),F=D,H=L,B=T},97594:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u});var s=r(80263),a=r(53239),n=r(19480),l=r(29660),o=r(42889),i=r(16865),d=r(3891);function c(e){let{autoComplete:t,autofocus:r,children:c,className:u,descriptionText:p,disabled:m,error:x,icon:f,id:h="",inputRef:g,label:y,afterLabel:v,beforeLabel:j,labelOptional:b,layout:w,name:N="",onChange:k,onBlur:A,placeholder:R,required:S,value:C,defaultValue:_,style:q,size:E="medium",borderless:D=!1,validation:L,...T}=e,{formContextOnChange:F,values:H,errors:B,handleBlur:I,touched:O,fieldLevelValidation:z}=(0,d.x)();H&&!C&&(C=H[h]),x||(B&&!x&&(x=B[h||N]),x=O&&O[h||N]?x:void 0),(0,a.useEffect)(()=>{L&&z(h,L(C))},[]);let P=(0,i.A)("select"),M=[P.container];u&&M.push(u);let K=[P.base];return x&&K.push(P.variants.error),x||K.push(P.variants.standard),f&&K.push(P.with_icon),E&&K.push(P.size[E]),m&&K.push(P.disabled),(0,s.jsx)(n.H,{label:y,afterLabel:v,beforeLabel:j,labelOptional:b,layout:w,id:h,error:x,descriptionText:p,className:u,style:q,size:E,"data-sentry-element":"FormLayout","data-sentry-component":"Select","data-sentry-source-file":"Select.tsx",children:(0,s.jsxs)("div",{className:P.container,children:[(0,s.jsx)("select",{id:h,name:N,"data-size":E,defaultValue:_,autoComplete:t,autoFocus:r,className:K.join(" "),onChange:function(e){k&&k(e),F&&F(e),L&&z(h,L(e.target.value))},onBlur:function(e){I&&I(e),A&&A(e)},ref:g,value:C,disabled:m,required:S,placeholder:R,...T,children:c}),f&&(0,s.jsx)(o.A,{size:E,icon:f}),x&&(0,s.jsx)("div",{className:P.actions_container,children:x&&(0,s.jsx)(l.A,{size:E})}),(0,s.jsx)("span",{className:P.chevron_container,children:(0,s.jsx)("svg",{className:P.chevron,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-sentry-element":"svg","data-sentry-source-file":"Select.tsx",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd","data-sentry-element":"path","data-sentry-source-file":"Select.tsx"})})})]})})}c.Option=function(e){let{value:t,children:r,selected:a}=e;return(0,s.jsx)("option",{value:t,selected:a,"data-sentry-component":"Option","data-sentry-source-file":"Select.tsx",children:r})},c.OptGroup=function(e){let{label:t,children:r}=e;return(0,s.jsx)("optgroup",{label:t,"data-sentry-component":"OptGroup","data-sentry-source-file":"Select.tsx",children:r})};let u=c}},e=>{var t=t=>e(e.s=t);e.O(0,[89,2147,726,4669,9353,7176,3730,9844,6110,9955,6871,8153,5297,5661,4100,8870,2981,4181,2187,4560,7344,3895,1959,9116,9869,4938,7872,5874,49,2174,971,6642,8434,2602,227,6593,636,8792],()=>t(36151)),_N_E=e.O()}]);